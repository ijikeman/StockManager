# StockManager
## 目的
* 登録株式銘柄の株価データを保有する。
  * 株価データは１株配当金、業績発表日、現在の株価

* 所有株式の損益管理を行う。
  * 所有者(owner)は登録し、増やすことができる
  * 各所有者毎に所有株式を登録・削除・編集することができる
  * 各所有株式は配当金履歴を登録することができる。
  

### **ロット識別の必要性**
日本の株式市場では100株が最小単元であるため、200株購入時はstock.minumal_unit(=100) * stock_lot.unit(=2)を設定します 。
各ロットは独立した取得時期、価格、配当履歴を持つため、**ロット別の識別管理**が不可欠です 。

### **配当金の個別紐づけ**
配当金は各ロットの保有期間と株数に応じて個別に計算されるため、ロット単位での配当履歴管理により正確な損益計算が可能になります 。

ロットの一部の単元を売却した場合は売却済みロットとして別のロットデータに複製します。また配当金履歴(incoming_history)もその時点のデータを複製し、新しいロットに割り当てて配当金を確定させます。
